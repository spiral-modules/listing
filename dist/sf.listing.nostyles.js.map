{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///sf.listing.nostyles.js","webpack:///webpack/bootstrap 6aaca38b4548c699b14c?7ae7","webpack:///external {\"commonjs\":\"sf-core\",\"commonjs2\":\"sf-core\",\"amd\":\"sf-core\",\"root\":\"sf\"}?345b","webpack:///./js-source/listing.js?1fc2","webpack:///./js-source/index-no-styles.js"],"names":["root","factory","exports","module","require","define","amd","sf","this","__WEBPACK_EXTERNAL_MODULE_0__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","default","object","property","prototype","hasOwnProperty","p","s","_sfCore","_sfCore2","obj","Listing","node","options","_construct","createModulePrototype","init","assign","_config","config","_namespace","namespace","_orderQuery","_sortByQuery","_limitQuery","_pageQuery","_filtersQuery","_valuesQuery","listingId","id","els","sorters","querySelectorAll","form","document","querySelector","window","searchRegexp","RegExp","updateControls","addEventListeners","optionsToGrab","domAttr","processor","val","JSON","parse","e","console","error","iconASC","iconDESC","iconSorter","pagination","toLowerCase","paginationPages","paginationWrapperClass","paginationPageClass","paginationActiveClass","paginationDisabledClass","paginationPrevContent","paginationNextContent","paginationFirstContent","paginationLastContent","limits","limitsWrapperClass","limitsLabel","_this","generatePagination","wrapper","createElement","select","length","option","text","selected","limit","appendChild","setAttribute","innerHTML","parentNode","classList","add","jQuery","material_select","performLimits","bind","forEach","input","filters","dataset","sorter","sorting","direction","_this2","pageCounter","lastLeft","page","lastRight","firstPage","prevPage","nextPage","lastPage","prevPages","currentPage","nextPages","unshift","countPages","push","previousPage","concat","cloneNode","insertBefore","nextSibling","activePages","performSorting","searchQuery","getQueryParams","updateListing","performFilters","target","tagName","which","keyCode","newFilterIndex","clearFilter","compactFilterIndexes","clearPagination","key","test","filtersObj","substr","lastIndexOf","index","performPagination","pageNode","str","location","search","replace","split","map","decodeURIComponent","stringifyObject","getOwnPropertyNames","query","encodeURIComponent","slice","_this3","_performSorting","_performFilters","_performPagination","_performLimits","addEventListener","el","on","autocomplete","getInstance","retrieveValueByKey","events","instance","autocompleteData","hidden","removeEventListeners","_this4","removeEventListener","die","registerInstanceType"],"mappings":"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","file":"sf.listing.nostyles.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"sf-core\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"sf-listing\", [\"sf-core\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"sf-listing\"] = factory(require(\"sf-core\"));\n\telse\n\t\troot[\"sf-listing\"] = factory(root[\"sf\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"sf-core\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"sf-listing\", [\"sf-core\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"sf-listing\"] = factory(require(\"sf-core\"));\n\telse\n\t\troot[\"sf-listing\"] = factory(root[\"sf\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 8);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _sfCore = __webpack_require__(0);\n\nvar _sfCore2 = _interopRequireDefault(_sfCore);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Listing = function Listing(sf, node, options) {\n    this._construct(sf, node, options);\n};\n\nListing.prototype = _sfCore2.default.createModulePrototype();\n\nListing.prototype.name = \"listing\";\n\nListing.prototype._construct = function (sf, node, options) {\n    this.init(sf, node, options);\n\n    if (options) {\n        // extend default options\n        this.options = Object.assign(this.options, options);\n    }\n\n    // Few shortcuts for syntax sugar purposes\n    this._config = this.options.config;\n    this._namespace = this._config.namespace;\n    this._orderQuery = this._namespace + '[order]';\n    this._sortByQuery = this._namespace + '[sortBy]';\n    this._limitQuery = this._namespace + '[limit]';\n    this._pageQuery = this._namespace + '[page]';\n    this._filtersQuery = this._namespace + '[filters]';\n    this._valuesQuery = this._namespace + '[values]';\n\n    this.listingId = node.id;\n\n    this.els = {\n        node: node,\n        sorters: node.querySelectorAll('[data-sorter]'),\n        form: document.querySelector(\"[data-listing-id=\\\"\" + this.listingId + \"\\\"]\") || false\n    };\n    window.form = this.els.form; // TODO: Why?\n\n    this.searchRegexp = new RegExp(this.options.config.namespace + '\\\\[filters\\\\]\\\\[\\\\d+\\\\]', \"i\");\n\n    this.updateControls();\n    this.addEventListeners();\n};\n\nListing.prototype.optionsToGrab = {\n    /**\r\n     *  Pass data in JSON-encoded format <b>Default: false</b>\r\n     */\n    config: {\n        value: false,\n        domAttr: \"data-config\",\n        processor: function processor(node, val) {\n            if (!val) return false;\n            if (typeof val == \"string\") {\n                try {\n                    val = JSON.parse(val);\n                } catch (e) {\n                    console.error(\"Listing config JSON.parse error: \", e);\n                }\n            }\n            return val;\n        }\n    },\n    iconASC: {\n        value: '<i class=\"sf-listing-icon-sort-asc\"></i>',\n        domAttr: \"data-icon-asc\"\n    },\n    iconDESC: {\n        value: '<i class=\"sf-listing-icon-sort-desc\"></i>',\n        domAttr: \"data-icon-desc\"\n    },\n    iconSorter: {\n        value: '<i class=\"sf-listing-icon-sort\"></i>',\n        domAttr: \"data-icon-sorter\"\n    },\n    pagination: {\n        value: true,\n        domAttr: \"data-pagination\",\n        processor: function processor(node, val) {\n            if (typeof val === \"boolean\") return val;\n\n            val = val !== void 0 && val !== null ? val.toLowerCase() : '';\n            if (val === 'false') {\n                val = false;\n            } else if (val === 'true') {\n                val = true;\n            } else {\n                val = this.value;\n            }\n            return val;\n        }\n    },\n    paginationPages: {\n        value: 7,\n        domAttr: \"data-pagination-pages\"\n    },\n    paginationWrapperClass: {\n        value: 'pagination js-sf-listing-pagination row center-align',\n        domAttr: \"data-pagination-wrapper\"\n    },\n    paginationPageClass: {\n        value: 'waves-effect',\n        domAttr: \"data-pagination-page-class\"\n    },\n    paginationActiveClass: {\n        value: 'active',\n        domAttr: \"data-pagination-active-class\"\n    },\n    paginationDisabledClass: {\n        value: 'disabled',\n        domAttr: \"data-pagination-disabled-class\"\n    },\n    paginationPrevContent: {\n        value: '<i class=\"toolkit-icon-left\"></i>',\n        domAttr: \"data-pagination-prev\"\n    },\n    paginationNextContent: {\n        value: '<i class=\"toolkit-icon-right\"></i>',\n        domAttr: \"data-pagination-next\"\n    },\n    paginationFirstContent: {\n        value: '<i class=\"toolkit-icon-left stacked\"></i><i class=\"toolkit-icon-left stacked\"></i>',\n        domAttr: \"data-pagination-first\"\n    },\n    paginationLastContent: {\n        value: '<i class=\"toolkit-icon-right stacked\"></i><i class=\"toolkit-icon-right stacked\"></i>',\n        domAttr: \"data-pagination-last\"\n    },\n    limits: {\n        value: true,\n        domAttr: \"data-limits\",\n        processor: function processor(node, val) {\n            if (typeof val === \"boolean\") return val;\n\n            val = val !== void 0 && val !== null ? val.toLowerCase() : '';\n            if (val === 'false') {\n                val = false;\n            } else if (val === 'true') {\n                val = true;\n            } else {\n                val = this.value;\n            }\n            return val;\n        }\n    },\n    limitsWrapperClass: {\n        value: 'js-sf-listing-limits right input-field item-form col s2',\n        domAttr: \"data-limits-wrapper\"\n    },\n    limitsLabel: {\n        value: '<span class=\"label\">Show: </span>',\n        domAttr: \"data-limits-label\"\n    }\n};\n\nListing.prototype.updateControls = function () {\n    var _this = this;\n\n    if (this.options.pagination) {\n        this.generatePagination();\n    }\n\n    if (this.options.limits) {\n        this.els.limits = {\n            wrapper: document.createElement('div'),\n            select: document.createElement('select')\n        };\n\n        for (var i = 0; i < this._config.pagination.limits.length; i++) {\n            var option = document.createElement(\"option\");\n            option.value = this._config.pagination.limits[i];\n            option.text = this._config.pagination.limits[i];\n            option.selected = this._config.pagination.limits[i] === this._config.pagination.limit;\n            this.els.limits.select.appendChild(option);\n        }\n        this.els.limits.wrapper.setAttribute(\"class\", this.options.limitsWrapperClass);\n\n        this.els.limits.wrapper.innerHTML = this.options.limitsLabel;\n        this.els.limits.wrapper.appendChild(this.els.limits.select);\n        this.els.node.parentNode.appendChild(this.els.limits.wrapper, this.els.node);\n        if (this.options.pagination) {\n            this.els.limits.wrapper.classList.add('stacked-right');\n        }\n\n        // Make it work with materialize\n        if (window.jQuery && typeof window.jQuery(this.els.limits.select).material_select === \"function\") {\n            window.jQuery(this.els.limits.select).material_select(this.performLimits.bind(this));\n        }\n    }\n\n    if (this.els.form) {\n        // fill form values\n        [].forEach.call(this.els.form.querySelectorAll('input, select'), function (input) {\n            if (_this._config.filters && _this._config.filters[input.name]) {\n                input.value = _this._config.filters[input.name];\n            }\n        });\n    }\n\n    for (var _i = 0; _i < this.els.sorters.length; ++_i) {\n        // add asc & desc icon\n        if (this.els.sorters[_i].dataset.sorter === this._config.sorting.sorter) {\n            this.els.sorters[_i].innerHTML += this._config.sorting.direction === \"asc\" ? this.options.iconASC : this.options.iconDESC;\n        } else {\n            this.els.sorters[_i].innerHTML += this.options.iconSorter;\n        }\n    }\n};\n\nListing.prototype.generatePagination = function () {\n    var _this2 = this;\n\n    var pageCounter = 1;\n    var lastLeft = this._config.pagination.page;\n    var lastRight = this._config.pagination.page;\n\n    this.els.pagination = {\n        wrapper: document.createElement('ul'),\n        firstPage: document.createElement('li'),\n        prevPage: document.createElement('li'),\n        page: document.createElement('li'),\n        nextPage: document.createElement('li'),\n        lastPage: document.createElement('li')\n    };\n\n    this.pagination = {\n        prevPages: [],\n        currentPage: this._config.pagination.page,\n        nextPages: []\n    };\n\n    while (pageCounter < this.options.paginationPages) {\n        if (lastLeft - 1 >= 1) {\n            lastLeft--;\n            this.pagination.prevPages.unshift(lastLeft);\n            pageCounter++;\n        }\n        if (lastRight + 1 <= this._config.pagination.countPages) {\n            lastRight++;\n            this.pagination.nextPages.push(lastRight);\n            pageCounter++;\n        }\n        if (lastLeft - 1 < 1 && lastRight + 1 > this._config.pagination.countPages) break;\n    }\n\n    this.els.pagination.wrapper.setAttribute(\"class\", this.options.paginationWrapperClass);\n\n    this.els.pagination.firstPage.setAttribute(\"class\", this._config.pagination.firstPage ? this.options.paginationPageClass : this.options.paginationDisabledClass);\n    this.els.pagination.firstPage.innerHTML = '<a>' + this.options.paginationFirstContent + '</a>';\n    this.els.pagination.firstPage.dataset.page = 1;\n\n    this.els.pagination.lastPage.setAttribute(\"class\", this._config.pagination.nextPage ? this.options.paginationPageClass : this.options.paginationDisabledClass);\n    this.els.pagination.lastPage.innerHTML = '<a>' + this.options.paginationLastContent + '</a>';\n    this.els.pagination.lastPage.dataset.page = this._config.pagination.countPages;\n\n    this.els.pagination.prevPage.setAttribute(\"class\", this._config.pagination.previousPage ? this.options.paginationPageClass : this.options.paginationDisabledClass);\n    this.els.pagination.prevPage.innerHTML = '<a>' + this.options.paginationPrevContent + '</a>';\n    this.els.pagination.prevPage.dataset.page = this.pagination.currentPage - 1;\n\n    this.els.pagination.nextPage.setAttribute(\"class\", this._config.pagination.nextPage ? this.options.paginationPageClass : this.options.paginationDisabledClass);\n    this.els.pagination.nextPage.innerHTML = '<a>' + this.options.paginationNextContent + '</a>';\n    this.els.pagination.nextPage.dataset.page = this.pagination.currentPage + 1;\n\n    this.els.pagination.wrapper.appendChild(this.els.pagination.firstPage);\n    this.els.pagination.wrapper.appendChild(this.els.pagination.prevPage);\n    this.pagination.prevPages.concat(this.pagination.currentPage, this.pagination.nextPages).forEach(function (val) {\n        _this2.els.pagination.page.dataset.page = val;\n        _this2.els.pagination.page.innerHTML = '<a>' + val + '</a>';\n        _this2.els.pagination.page.setAttribute(\"class\", val === _this2.pagination.currentPage ? _this2.options.paginationActiveClass : _this2.options.paginationPageClass);\n        _this2.els.pagination.wrapper.appendChild(_this2.els.pagination.page.cloneNode(true));\n    });\n\n    this.els.pagination.wrapper.appendChild(this.els.pagination.nextPage);\n    this.els.pagination.wrapper.appendChild(this.els.pagination.lastPage);\n    this.els.node.parentNode.insertBefore(this.els.pagination.wrapper, this.els.node.nextSibling);\n    this.els.pagination.activePages = this.els.pagination.wrapper.querySelectorAll('.' + this.options.paginationPageClass);\n};\n\nListing.prototype.performSorting = function (sorter) {\n    this.searchQuery = this.getQueryParams();\n    this.searchQuery[this._sortByQuery] = sorter.dataset.sorter;\n\n    // click on active sorter changes direction, otherwise direction will be asc\n    if (this._config.sorting.sorter === sorter.dataset.sorter) {\n        this.searchQuery[this._orderQuery] = this.searchQuery[this._orderQuery] === 'asc' || !this.searchQuery[this._orderQuery] ? 'desc' : 'asc';\n    } else {\n        this.searchQuery[this._orderQuery] = 'asc';\n    }\n\n    this.searchQuery[this._sortByQuery] = sorter.dataset.sorter;\n    this.updateListing();\n};\n\nListing.prototype.performFilters = function (e) {\n    if (e.target.tagName && e.target.tagName === \"INPUT\" && (e.which ? e.which : e.keyCode) !== 13) return;\n    this.searchQuery = this.getQueryParams();\n\n    if (e.target.value) {\n        if (!this._config.filters[e.target.name]) {\n            this.searchQuery[this._filtersQuery + \"[\" + this.newFilterIndex() + \"]\"] = e.target.name;\n        }\n        this.searchQuery[this._valuesQuery + \"[\" + e.target.name + \"]\"] = e.target.value;\n    } else {\n        this.clearFilter(e);\n    }\n\n    this.compactFilterIndexes();\n    this.clearPagination();\n    this.updateListing();\n};\n\nListing.prototype.clearFilter = function (e) {\n    this.searchQuery = this.getQueryParams();\n\n    for (var key in this.searchQuery) {\n        if (this.searchQuery.hasOwnProperty(key) && this.searchRegexp.test(key) && this.searchQuery[key] === e.target.name) {\n            delete this.searchQuery[key];\n            break;\n        }\n    }\n\n    delete this.searchQuery[this._valuesQuery + \"[\" + e.target.name + \"]\"];\n};\n\n/**\r\n * Update filters' indexes to go in order without gaps. Expl: namespace[filter][2] => namespace[filter][0]\r\n */\nListing.prototype.compactFilterIndexes = function () {\n    var filtersObj = {};\n    var i = 0;\n\n    for (var key in this.searchQuery) {\n        if (this.searchQuery.hasOwnProperty(key) && this.searchRegexp.test(key)) {\n            filtersObj[key] = this.searchQuery[key];\n            delete this.searchQuery[key];\n        }\n    }\n\n    for (key in filtersObj) {\n        if (filtersObj.hasOwnProperty(key)) {\n            this.searchQuery[key.substr(0, key.lastIndexOf('[') + 1) + i + key.substr(key.lastIndexOf(']'))] = filtersObj[key];\n            i++;\n        }\n    }\n};\n\nListing.prototype.newFilterIndex = function () {\n    var i = 0;\n    var index = null;\n\n    while (!index) {\n        if (this.searchQuery[this._filtersQuery + '[' + i + ']']) {\n            i++;\n        } else {\n            index = i;\n            break;\n        }\n    }\n\n    return index;\n};\n\nListing.prototype.performPagination = function (pageNode) {\n    this.searchQuery = this.getQueryParams();\n\n    if (+pageNode.dataset.page === 1) {\n        this.clearPagination();\n    } else {\n        this.searchQuery[this._pageQuery] = pageNode.dataset.page;\n    }\n\n    this.updateListing();\n};\n\nListing.prototype.performLimits = function () {\n    this.searchQuery = this.getQueryParams();\n\n    if (+this.els.limits.select.value === this._config.pagination.limits[0]) {\n        delete this.searchQuery[this._limitQuery];\n    } else {\n        this.searchQuery[this._limitQuery] = this.els.limits.select.value;\n    }\n\n    this.updateListing();\n};\n\nListing.prototype.clearPagination = function () {\n    delete this.searchQuery[this._pageQuery];\n};\n\nListing.prototype.getQueryParams = function (str) {\n    return str || document.location.search ? (str || document.location.search).replace(/(^\\?)/, '').split(\"&\").map(function (n) {\n        return n = n.split(\"=\"), this[n[0]] = decodeURIComponent(n[1]), this; // TODO: WTF is that?\n    }.bind({}))[0] : {};\n};\n\n/**\r\n * TODO: Should urlencode?\r\n * Encode object to URL form\r\n * @param {Object} obj\r\n * @return {*}\r\n */\nListing.prototype.stringifyObject = function (obj) {\n    if (Object.getOwnPropertyNames(obj).length === 0) return \"\";\n\n    var query = \"?\";\n\n    for (var key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            query += key + '=' + encodeURIComponent(obj[key]) + \"&\";\n        }\n    }\n\n    return query.slice(0, -1);\n};\n\nListing.prototype.updateListing = function () {\n    location.search = this.stringifyObject(this.searchQuery);\n};\n\nListing.prototype.addEventListeners = function () {\n    var _this3 = this;\n\n    this._performSorting = function (e) {\n        return _this3.performSorting(e.target);\n    };\n    this._performFilters = function (e) {\n        return _this3.performFilters(e);\n    };\n    this._performPagination = function (e) {\n        return _this3.performPagination(e.target);\n    };\n    this._performLimits = function () {\n        return _this3.performLimits();\n    };\n\n    if (this.els.sorters) {\n        for (var i = 0; i < this.els.sorters.length; ++i) {\n            this.els.sorters[i].addEventListener('click', this._performSorting);\n        }\n    }\n\n    if (this.els.pagination && this.els.pagination.activePages) {\n        for (var _i2 = 0; _i2 < this.els.pagination.activePages.length; ++_i2) {\n            this.els.pagination.activePages[_i2].addEventListener('click', this._performPagination);\n        }\n    }\n\n    if (this.els.form) {\n        [].forEach.call(this.els.form.querySelectorAll('select'), function (el) {\n            el.addEventListener('change', _this3._performFilters);\n            // make it work with materialize\n            if (window.jQuery && typeof window.jQuery('select').material_select === \"function\") window.jQuery(el).on('change', _this3._performFilters);\n        });\n\n        [].forEach.call(this.els.form.querySelectorAll('input:not(.js-sf-autocomplete)'), function (el) {\n            el.addEventListener('keydown', _this3._performFilters);\n        });\n\n        [].forEach.call(this.els.form.querySelectorAll('input.js-sf-autocomplete'), function (el) {\n            var autocomplete = _sfCore2.default.getInstance('autocomplete', el);\n            autocomplete.retrieveValueByKey();\n            if (!autocomplete || !autocomplete.events) return;\n\n            autocomplete.events.on(\"select\", function (instance) {\n                var autocompleteData = {\n                    target: {\n                        name: instance.els.hidden.name,\n                        value: instance.els.hidden.value\n                    }\n                };\n                _this3._performFilters(autocompleteData);\n            });\n\n            autocomplete.events.on(\"clear\", function (instance) {\n                var autocompleteData = {\n                    target: {\n                        name: instance.els.hidden.name,\n                        value: \"\"\n                    }\n                };\n                _this3._performFilters(autocompleteData);\n            });\n        });\n    }\n\n    if (this.els.limits) {\n        this.els.limits.select.addEventListener('change', this._performLimits);\n    }\n};\n\nListing.prototype.removeEventListeners = function () {\n    var _this4 = this;\n\n    if (this.els.sorters) {\n        for (var i = 0; i < this.els.sorters.length; ++i) {\n            this.els.sorters[i].removeEventListeners('click', this._performSorting);\n        }\n    }\n\n    if (this.els.pagination && this.els.pagination.activePages) {\n        for (var _i3 = 0; _i3 < this.els.pagination.activePages.length; ++_i3) {\n            this.els.pagination.activePages[_i3].removeEventListener('click', this._performPagination);\n        }\n    }\n\n    if (this.els.limits) {\n        this.els.limits.select.removeEventListener('change', this._performLimits);\n    }\n\n    if (this.els.form) {\n        [].forEach.call(this.els.form.querySelectorAll('select'), function (el) {\n            el.removeEventListeners('change', _this4._performFilters);\n        });\n\n        [].forEach.call(this.els.form.querySelectorAll('input'), function (el) {\n            el.removeEventListeners('keydown', _this4._performFilters);\n        });\n    }\n};\n\nListing.prototype.die = function () {\n    this.removeEventListeners();\n    delete this;\n};\n\nexports.default = Listing;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar sf = __webpack_require__(0);\nvar Listing = __webpack_require__(1).default;\n\nsf.registerInstanceType(Listing, \"js-sf-listing\");\n\nmodule.exports = Listing; // ES6 default export will not expose us as global\n\n/***/ }),\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(2);\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// sf.listing.nostyles.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6aaca38b4548c699b14c","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"sf-core\",\"commonjs2\":\"sf-core\",\"amd\":\"sf-core\",\"root\":\"sf\"}\n// module id = 0\n// module chunks = 0 1","\"use strict\";\r\nimport sf from \"sf-core\";\r\n\r\nconst Listing = function (sf, node, options) {\r\n    this._construct(sf, node, options);\r\n};\r\n\r\n\r\nListing.prototype = sf.createModulePrototype();\r\n\r\nListing.prototype.name = \"listing\";\r\n\r\nListing.prototype._construct = function (sf, node, options) {\r\n    this.init(sf, node, options);\r\n\r\n    if (options) {\r\n        // extend default options\r\n        this.options = Object.assign(this.options, options);\r\n    }\r\n\r\n    // Few shortcuts for syntax sugar purposes\r\n    this._config = this.options.config;\r\n    this._namespace = this._config.namespace;\r\n    this._orderQuery = this._namespace + '[order]';\r\n    this._sortByQuery = this._namespace + '[sortBy]';\r\n    this._limitQuery = this._namespace + '[limit]';\r\n    this._pageQuery = this._namespace + '[page]';\r\n    this._filtersQuery = this._namespace + '[filters]';\r\n    this._valuesQuery = this._namespace + '[values]';\r\n\r\n    this.listingId = node.id;\r\n\r\n    this.els = {\r\n        node: node,\r\n        sorters: node.querySelectorAll('[data-sorter]'),\r\n        form: document.querySelector(`[data-listing-id=\"${this.listingId}\"]`) || false\r\n    };\r\n    window.form = this.els.form; // TODO: Why?\r\n\r\n    this.searchRegexp = new RegExp(this.options.config.namespace + '\\\\[filters\\\\]\\\\[\\\\d+\\\\]', \"i\");\r\n\r\n    this.updateControls();\r\n    this.addEventListeners();\r\n};\r\n\r\nListing.prototype.optionsToGrab =\r\n{\r\n    /**\r\n     *  Pass data in JSON-encoded format <b>Default: false</b>\r\n     */\r\n    config: {\r\n        value: false,\r\n        domAttr: \"data-config\",\r\n        processor: function (node, val) {\r\n            if (!val) return false;\r\n            if (typeof val == \"string\") {\r\n                try {\r\n                    val = JSON.parse(val);\r\n                } catch (e) {\r\n                    console.error(\"Listing config JSON.parse error: \", e);\r\n                }\r\n            }\r\n            return val;\r\n        }\r\n    },\r\n    iconASC: {\r\n        value: '<i class=\"sf-listing-icon-sort-asc\"></i>',\r\n        domAttr: \"data-icon-asc\"\r\n    },\r\n    iconDESC: {\r\n        value: '<i class=\"sf-listing-icon-sort-desc\"></i>',\r\n        domAttr: \"data-icon-desc\"\r\n    },\r\n    iconSorter: {\r\n        value: '<i class=\"sf-listing-icon-sort\"></i>',\r\n        domAttr: \"data-icon-sorter\"\r\n    },\r\n    pagination: {\r\n        value: true,\r\n        domAttr: \"data-pagination\",\r\n        processor: function (node, val) {\r\n            if (typeof val === \"boolean\") return val;\r\n\r\n            val = (val !== void 0 && val !== null) ? val.toLowerCase() : '';\r\n            if (val === 'false') {\r\n                val = false;\r\n            } else if (val === 'true') {\r\n                val = true;\r\n            } else {\r\n                val = this.value;\r\n            }\r\n            return val;\r\n        }\r\n    },\r\n    paginationPages: {\r\n        value: 7,\r\n        domAttr: \"data-pagination-pages\"\r\n    },\r\n    paginationWrapperClass: {\r\n        value: 'pagination js-sf-listing-pagination row center-align',\r\n        domAttr: \"data-pagination-wrapper\"\r\n    },\r\n    paginationPageClass: {\r\n        value: 'waves-effect',\r\n        domAttr: \"data-pagination-page-class\"\r\n    },\r\n    paginationActiveClass: {\r\n        value: 'active',\r\n        domAttr: \"data-pagination-active-class\"\r\n    },\r\n    paginationDisabledClass: {\r\n        value: 'disabled',\r\n        domAttr: \"data-pagination-disabled-class\"\r\n    },\r\n    paginationPrevContent: {\r\n        value: '<i class=\"toolkit-icon-left\"></i>',\r\n        domAttr: \"data-pagination-prev\"\r\n    },\r\n    paginationNextContent: {\r\n        value: '<i class=\"toolkit-icon-right\"></i>',\r\n        domAttr: \"data-pagination-next\"\r\n    },\r\n    paginationFirstContent: {\r\n        value: '<i class=\"toolkit-icon-left stacked\"></i><i class=\"toolkit-icon-left stacked\"></i>',\r\n        domAttr: \"data-pagination-first\"\r\n    },\r\n    paginationLastContent: {\r\n        value: '<i class=\"toolkit-icon-right stacked\"></i><i class=\"toolkit-icon-right stacked\"></i>',\r\n        domAttr: \"data-pagination-last\"\r\n    },\r\n    limits: {\r\n        value: true,\r\n        domAttr: \"data-limits\",\r\n        processor: function (node, val) {\r\n            if (typeof val === \"boolean\") return val;\r\n\r\n            val = (val !== void 0 && val !== null) ? val.toLowerCase() : '';\r\n            if (val === 'false') {\r\n                val = false;\r\n            } else if (val === 'true') {\r\n                val = true;\r\n            } else {\r\n                val = this.value;\r\n            }\r\n            return val;\r\n        }\r\n    },\r\n    limitsWrapperClass: {\r\n        value: 'js-sf-listing-limits right input-field item-form col s2',\r\n        domAttr: \"data-limits-wrapper\"\r\n    },\r\n    limitsLabel: {\r\n        value: '<span class=\"label\">Show: </span>',\r\n        domAttr: \"data-limits-label\"\r\n    }\r\n};\r\n\r\nListing.prototype.updateControls = function () {\r\n    if (this.options.pagination) {\r\n        this.generatePagination();\r\n    }\r\n\r\n    if (this.options.limits) {\r\n        this.els.limits = {\r\n            wrapper: document.createElement('div'),\r\n            select: document.createElement('select')\r\n        };\r\n\r\n        for (var i = 0; i < this._config.pagination.limits.length; i++) {\r\n            var option = document.createElement(\"option\");\r\n            option.value = this._config.pagination.limits[i];\r\n            option.text = this._config.pagination.limits[i];\r\n            option.selected = this._config.pagination.limits[i] === this._config.pagination.limit;\r\n            this.els.limits.select.appendChild(option);\r\n        }\r\n        this.els.limits.wrapper.setAttribute(\"class\", this.options.limitsWrapperClass);\r\n\r\n        this.els.limits.wrapper.innerHTML = this.options.limitsLabel;\r\n        this.els.limits.wrapper.appendChild(this.els.limits.select);\r\n        this.els.node.parentNode.appendChild(this.els.limits.wrapper, this.els.node);\r\n        if (this.options.pagination) {\r\n            this.els.limits.wrapper.classList.add('stacked-right');\r\n        }\r\n\r\n        // Make it work with materialize\r\n        if (window.jQuery && typeof window.jQuery(this.els.limits.select).material_select === \"function\") {\r\n            window.jQuery(this.els.limits.select).material_select(this.performLimits.bind(this));\r\n        }\r\n    }\r\n\r\n    if (this.els.form) {\r\n        // fill form values\r\n        [].forEach.call(this.els.form.querySelectorAll('input, select'), (input)=> {\r\n            if (this._config.filters && this._config.filters[input.name]) {\r\n                input.value = this._config.filters[input.name];\r\n            }\r\n        });\r\n    }\r\n\r\n    for (let i = 0; i < this.els.sorters.length; ++i) {\r\n        // add asc & desc icon\r\n        if (this.els.sorters[i].dataset.sorter === this._config.sorting.sorter) {\r\n            this.els.sorters[i].innerHTML += (this._config.sorting.direction === \"asc\" ? this.options.iconASC : this.options.iconDESC);\r\n        } else {\r\n            this.els.sorters[i].innerHTML += this.options.iconSorter;\r\n        }\r\n    }\r\n};\r\n\r\nListing.prototype.generatePagination = function () {\r\n    let pageCounter = 1;\r\n    let lastLeft = this._config.pagination.page;\r\n    let lastRight = this._config.pagination.page;\r\n\r\n    this.els.pagination = {\r\n        wrapper: document.createElement('ul'),\r\n        firstPage: document.createElement('li'),\r\n        prevPage: document.createElement('li'),\r\n        page: document.createElement('li'),\r\n        nextPage: document.createElement('li'),\r\n        lastPage: document.createElement('li')\r\n    };\r\n\r\n    this.pagination = {\r\n        prevPages: [],\r\n        currentPage: this._config.pagination.page,\r\n        nextPages: []\r\n    };\r\n\r\n    while (pageCounter < this.options.paginationPages) {\r\n        if ((lastLeft - 1) >= 1) {\r\n            lastLeft--;\r\n            this.pagination.prevPages.unshift(lastLeft);\r\n            pageCounter++;\r\n        }\r\n        if ((lastRight + 1) <= this._config.pagination.countPages) {\r\n            lastRight++;\r\n            this.pagination.nextPages.push(lastRight);\r\n            pageCounter++;\r\n        }\r\n        if ((lastLeft - 1) < 1 && (lastRight + 1) > this._config.pagination.countPages) break;\r\n    }\r\n\r\n    this.els.pagination.wrapper.setAttribute(\"class\", this.options.paginationWrapperClass);\r\n\r\n    this.els.pagination.firstPage.setAttribute(\"class\",\r\n        this._config.pagination.firstPage ? this.options.paginationPageClass : this.options.paginationDisabledClass);\r\n    this.els.pagination.firstPage.innerHTML = '<a>' + this.options.paginationFirstContent + '</a>';\r\n    this.els.pagination.firstPage.dataset.page = 1;\r\n\r\n    this.els.pagination.lastPage.setAttribute(\"class\",\r\n        this._config.pagination.nextPage ? this.options.paginationPageClass : this.options.paginationDisabledClass);\r\n    this.els.pagination.lastPage.innerHTML = '<a>' + this.options.paginationLastContent + '</a>';\r\n    this.els.pagination.lastPage.dataset.page = this._config.pagination.countPages;\r\n\r\n    this.els.pagination.prevPage.setAttribute(\"class\",\r\n        this._config.pagination.previousPage ? this.options.paginationPageClass : this.options.paginationDisabledClass);\r\n    this.els.pagination.prevPage.innerHTML = '<a>' + this.options.paginationPrevContent + '</a>';\r\n    this.els.pagination.prevPage.dataset.page = this.pagination.currentPage - 1;\r\n\r\n    this.els.pagination.nextPage.setAttribute(\"class\",\r\n        this._config.pagination.nextPage ? this.options.paginationPageClass : this.options.paginationDisabledClass);\r\n    this.els.pagination.nextPage.innerHTML = '<a>' + this.options.paginationNextContent + '</a>';\r\n    this.els.pagination.nextPage.dataset.page = this.pagination.currentPage + 1;\r\n\r\n    this.els.pagination.wrapper.appendChild(this.els.pagination.firstPage);\r\n    this.els.pagination.wrapper.appendChild(this.els.pagination.prevPage);\r\n    this.pagination.prevPages.concat(this.pagination.currentPage, this.pagination.nextPages).forEach((val)=> {\r\n        this.els.pagination.page.dataset.page = val;\r\n        this.els.pagination.page.innerHTML = '<a>' + val + '</a>';\r\n        this.els.pagination.page.setAttribute(\"class\",\r\n            val === this.pagination.currentPage ? this.options.paginationActiveClass : this.options.paginationPageClass);\r\n        this.els.pagination.wrapper.appendChild(this.els.pagination.page.cloneNode(true));\r\n    });\r\n\r\n    this.els.pagination.wrapper.appendChild(this.els.pagination.nextPage);\r\n    this.els.pagination.wrapper.appendChild(this.els.pagination.lastPage);\r\n    this.els.node.parentNode.insertBefore(this.els.pagination.wrapper, this.els.node.nextSibling);\r\n    this.els.pagination.activePages = this.els.pagination.wrapper.querySelectorAll('.' + this.options.paginationPageClass);\r\n};\r\n\r\nListing.prototype.performSorting = function (sorter) {\r\n    this.searchQuery = this.getQueryParams();\r\n    this.searchQuery[this._sortByQuery] = sorter.dataset.sorter;\r\n\r\n    // click on active sorter changes direction, otherwise direction will be asc\r\n    if (this._config.sorting.sorter === sorter.dataset.sorter) {\r\n        this.searchQuery[this._orderQuery] =\r\n            ((this.searchQuery[this._orderQuery] === 'asc'\r\n            || !this.searchQuery[this._orderQuery]) ? 'desc' : 'asc');\r\n    } else {\r\n        this.searchQuery[this._orderQuery] = 'asc';\r\n    }\r\n\r\n    this.searchQuery[this._sortByQuery] = sorter.dataset.sorter;\r\n    this.updateListing();\r\n};\r\n\r\nListing.prototype.performFilters = function (e) {\r\n    if (e.target.tagName && e.target.tagName === \"INPUT\" && (e.which ? e.which : e.keyCode) !== 13) return;\r\n    this.searchQuery = this.getQueryParams();\r\n\r\n    if (e.target.value) {\r\n        if (!this._config.filters[e.target.name]) {\r\n            this.searchQuery[`${this._filtersQuery}[${this.newFilterIndex()}]`] = e.target.name;\r\n        }\r\n        this.searchQuery[`${this._valuesQuery}[${e.target.name}]`] = e.target.value;\r\n    } else {\r\n        this.clearFilter(e);\r\n    }\r\n\r\n    this.compactFilterIndexes();\r\n    this.clearPagination();\r\n    this.updateListing();\r\n};\r\n\r\nListing.prototype.clearFilter = function (e) {\r\n    this.searchQuery = this.getQueryParams();\r\n\r\n    for (var key in this.searchQuery) {\r\n        if (this.searchQuery.hasOwnProperty(key) && this.searchRegexp.test(key) && this.searchQuery[key] === e.target.name) {\r\n            delete this.searchQuery[key];\r\n            break;\r\n        }\r\n    }\r\n\r\n    delete this.searchQuery[`${this._valuesQuery}[${e.target.name}]`];\r\n};\r\n\r\n/**\r\n * Update filters' indexes to go in order without gaps. Expl: namespace[filter][2] => namespace[filter][0]\r\n */\r\nListing.prototype.compactFilterIndexes = function () {\r\n    let filtersObj = {};\r\n    let i = 0;\r\n\r\n    for (var key in this.searchQuery) {\r\n        if (this.searchQuery.hasOwnProperty(key) && this.searchRegexp.test(key)) {\r\n            filtersObj[key] = this.searchQuery[key];\r\n            delete this.searchQuery[key];\r\n        }\r\n    }\r\n\r\n    for (key in filtersObj) {\r\n        if (filtersObj.hasOwnProperty(key)) {\r\n            this.searchQuery[key.substr(0, key.lastIndexOf('[') + 1) + i + key.substr(key.lastIndexOf(']'))] = filtersObj[key];\r\n            i++;\r\n        }\r\n    }\r\n};\r\n\r\nListing.prototype.newFilterIndex = function () {\r\n    let i = 0;\r\n    let index = null;\r\n\r\n    while (!index) {\r\n        if (this.searchQuery[this._filtersQuery + '[' + i + ']']) {\r\n            i++;\r\n        } else {\r\n            index = i;\r\n            break;\r\n        }\r\n    }\r\n\r\n    return index;\r\n};\r\n\r\nListing.prototype.performPagination = function (pageNode) {\r\n    this.searchQuery = this.getQueryParams();\r\n\r\n    if (+pageNode.dataset.page === 1) {\r\n        this.clearPagination();\r\n    } else {\r\n        this.searchQuery[this._pageQuery] = pageNode.dataset.page;\r\n    }\r\n\r\n    this.updateListing();\r\n};\r\n\r\nListing.prototype.performLimits = function () {\r\n    this.searchQuery = this.getQueryParams();\r\n\r\n    if (+this.els.limits.select.value === this._config.pagination.limits[0]) {\r\n        delete this.searchQuery[this._limitQuery];\r\n    } else {\r\n        this.searchQuery[this._limitQuery] = this.els.limits.select.value;\r\n    }\r\n\r\n    this.updateListing();\r\n};\r\n\r\nListing.prototype.clearPagination = function () {\r\n    delete this.searchQuery[this._pageQuery];\r\n};\r\n\r\nListing.prototype.getQueryParams = function (str) {\r\n    return (str || document.location.search) ? ((str || document.location.search).replace(/(^\\?)/, '').split(\"&\").map(function (n) {\r\n        return n = n.split(\"=\"), this[n[0]] = decodeURIComponent(n[1]), this; // TODO: WTF is that?\r\n    }.bind({}))[0]) : {};\r\n};\r\n\r\n/**\r\n * TODO: Should urlencode?\r\n * Encode object to URL form\r\n * @param {Object} obj\r\n * @return {*}\r\n */\r\nListing.prototype.stringifyObject = function (obj) {\r\n    if (Object.getOwnPropertyNames(obj).length === 0) return \"\";\r\n\r\n    let query = \"?\";\r\n\r\n    for (var key in obj) {\r\n        if (obj.hasOwnProperty(key)) {\r\n            query += key + '=' + encodeURIComponent(obj[key]) + \"&\";\r\n        }\r\n    }\r\n\r\n    return query.slice(0, -1);\r\n};\r\n\r\nListing.prototype.updateListing = function () {\r\n    location.search = this.stringifyObject(this.searchQuery);\r\n};\r\n\r\nListing.prototype.addEventListeners = function () {\r\n    this._performSorting = (e)=> this.performSorting(e.target);\r\n    this._performFilters = (e)=> this.performFilters(e);\r\n    this._performPagination = (e)=> this.performPagination(e.target);\r\n    this._performLimits = ()=> this.performLimits();\r\n\r\n    if (this.els.sorters) {\r\n        for (let i = 0; i < this.els.sorters.length; ++i) {\r\n            this.els.sorters[i].addEventListener('click', this._performSorting);\r\n        }\r\n    }\r\n\r\n    if (this.els.pagination && this.els.pagination.activePages) {\r\n        for (let i = 0; i < this.els.pagination.activePages.length; ++i) {\r\n            this.els.pagination.activePages[i].addEventListener('click', this._performPagination);\r\n        }\r\n    }\r\n\r\n    if (this.els.form) {\r\n        [].forEach.call(this.els.form.querySelectorAll('select'), (el)=> {\r\n            el.addEventListener('change', this._performFilters);\r\n            // make it work with materialize\r\n            if (window.jQuery && typeof window.jQuery('select').material_select === \"function\") window.jQuery(el).on('change', this._performFilters);\r\n        });\r\n\r\n        [].forEach.call(this.els.form.querySelectorAll('input:not(.js-sf-autocomplete)'), (el)=> {\r\n            el.addEventListener('keydown', this._performFilters);\r\n        });\r\n\r\n        [].forEach.call(this.els.form.querySelectorAll('input.js-sf-autocomplete'), (el)=> {\r\n            let autocomplete = sf.getInstance('autocomplete', el);\r\n            autocomplete.retrieveValueByKey();\r\n            if (!autocomplete || !autocomplete.events) return;\r\n\r\n            autocomplete.events.on(\"select\", (instance)=> {\r\n                let autocompleteData = {\r\n                    target: {\r\n                        name: instance.els.hidden.name,\r\n                        value: instance.els.hidden.value\r\n                    }\r\n                };\r\n                this._performFilters(autocompleteData);\r\n            });\r\n\r\n            autocomplete.events.on(\"clear\", (instance)=> {\r\n                let autocompleteData = {\r\n                    target: {\r\n                        name: instance.els.hidden.name,\r\n                        value: \"\"\r\n                    }\r\n                };\r\n                this._performFilters(autocompleteData);\r\n            });\r\n        });\r\n    }\r\n\r\n    if (this.els.limits) {\r\n        this.els.limits.select.addEventListener('change', this._performLimits);\r\n    }\r\n};\r\n\r\nListing.prototype.removeEventListeners = function () {\r\n    if (this.els.sorters) {\r\n        for (let i = 0; i < this.els.sorters.length; ++i) {\r\n            this.els.sorters[i].removeEventListeners('click', this._performSorting);\r\n        }\r\n    }\r\n\r\n    if (this.els.pagination && this.els.pagination.activePages) {\r\n        for (let i = 0; i < this.els.pagination.activePages.length; ++i) {\r\n            this.els.pagination.activePages[i].removeEventListener('click', this._performPagination);\r\n        }\r\n    }\r\n\r\n    if (this.els.limits) {\r\n        this.els.limits.select.removeEventListener('change', this._performLimits);\r\n    }\r\n\r\n    if (this.els.form) {\r\n        [].forEach.call(this.els.form.querySelectorAll('select'), (el)=> {\r\n            el.removeEventListeners('change', this._performFilters);\r\n        });\r\n\r\n        [].forEach.call(this.els.form.querySelectorAll('input'), (el)=> {\r\n            el.removeEventListeners('keydown', this._performFilters);\r\n        });\r\n    }\r\n};\r\n\r\n\r\nListing.prototype.die = function () {\r\n    this.removeEventListeners();\r\n    delete this;\r\n};\r\n\r\nexport default Listing;\r\n\n\n\n// WEBPACK FOOTER //\n// ./js-source/listing.js","\"use strict\";\r\nvar sf = require('sf-core');\r\nvar Listing = require('./listing').default;\r\n\r\nsf.registerInstanceType(Listing, \"js-sf-listing\");\r\n\r\nmodule.exports = Listing; // ES6 default export will not expose us as global\r\n\n\n\n// WEBPACK FOOTER //\n// ./js-source/index-no-styles.js"],"sourceRoot":""}